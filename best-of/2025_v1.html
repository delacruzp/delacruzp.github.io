<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 Annual Recap</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            background-color: #f1f5f9;
            overflow-x: hidden;
            margin: 0;
        }
        .perspective-container {
            perspective: 1000px;
            perspective-origin: center center;
        }
        .tunnel-scene {
            transform-style: preserve-3d;
            will-change: transform;
        }
        .tunnel-item {
            transform-style: preserve-3d;
            will-change: transform, opacity, filter;
        }
        .selection-green::selection {
            background-color: #bbf7d0;
            color: #14532d;
        }
    </style>
</head>
<body class="selection-green">

    <!-- Scroll Spacer -->
    <div id="scroll-spacer"></div>

    <!-- Fixed Viewport -->
    <div class="fixed inset-0 overflow-hidden bg-slate-100">
        <!-- Background elements -->
        <div class="absolute inset-0 bg-gradient-to-b from-blue-50 to-white -z-20"></div>
        <div id="grid-bg" class="absolute inset-0 opacity-20 -z-10" 
             style="background-image: radial-gradient(circle, #64748b 1px, transparent 1px); background-size: 80px 80px;">
        </div>

        <div class="perspective-container w-full h-full relative">
            <div id="tunnel-scene" class="tunnel-scene absolute inset-0 w-full h-full">
                
                <!-- Centered Heading -->
                <div id="intro-heading" class="absolute top-1/2 left-1/2 flex flex-col items-center justify-center text-center w-full"
                     style="transform: translate3d(-50%, -50%, 0px);">
                    <h1 class="text-6xl md:text-8xl font-black text-slate-800 tracking-tighter mb-4 opacity-80 leading-none">2025</h1>
                    <p class="text-lg md:text-xl text-slate-500 uppercase tracking-[0.5em] font-medium leading-none">Annual Recap</p>
                    <div class="mt-16 animate-bounce text-slate-400">
                        <i data-lucide="arrow-down" class="mx-auto w-8 h-8"></i>
                        <span class="text-xs uppercase tracking-widest mt-4 block font-bold">Scroll forward</span>
                    </div>
                </div>

                <!-- Items will be injected here -->
                <div id="items-container" class="absolute inset-0" style="transform-style: preserve-3d;"></div>

                <!-- Ending -->
                <div id="outro-heading" class="absolute top-1/2 left-1/2 text-center w-full" style="display: none;">
                    <h2 class="text-4xl font-black text-slate-800">That's a wrap.</h2>
                    <p class="text-slate-500 mt-2">See you in 2026.</p>
                </div>

            </div>
        </div>

        <!-- UI Overlays -->
        <div class="fixed bottom-8 left-8 right-8 flex justify-between items-end pointer-events-none">
            <div class="text-left">
                <div class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1">Voyage Progress</div>
                <div class="w-48 h-1 bg-slate-200 rounded-full overflow-hidden pointer-events-auto">
                    <div id="progress-bar" class="h-full bg-green-500 transition-all duration-300" style="width: 0%"></div>
                </div>
            </div>
            <p id="z-plane-display" class="text-[10px] font-mono text-slate-400 bg-white/80 backdrop-blur px-2 py-1 rounded border border-slate-100">Z_PLANE: 0</p>
        </div>
    </div>

    <!-- Modal Template -->
    <div id="modal-container" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-white/60 backdrop-blur-md" onclick="closeModal()"></div>
        <div id="modal-content" class="relative w-full max-w-lg bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col">
            <!-- Dynamic content injected here -->
        </div>
    </div>

    <script>
        
        const INITIAL_DATA = {
            movies: [
                {
                    id: 'm1',
                    title: "A Nice Indian Boy",
                    year: "Cinema",
                    rating: 5,
                    url: "https://letterboxd.com/delacruzp/film/a-nice-indian-boy/",
                    image: "/img/2025-m1.png",
                    review: `I was laughing out loud through out this entire movie. The only moments when I was not laughing it was, because I was aggressively sobbing.

I must admit I was apprehensive going into this movie. But everything about it was SO f-ing good. Every single joke landed, my entire movie theater was enjoying the movie, which made the whole experience that more enjoyable.

I think it's my first time watching a movie, where the relationship with the parents it's not a zero sum game. It's not all in, neither all out. It's hard, complicated, awkward and at time sad, and still they keep trying to make it work.

I loved the splitting the movie into chapters. Love the way it tell the stories. Both the cutaways from the date, to the discussion of the date, and back. The sister narration. Ugh I love this movie.

Scenes where I cried:
• Naveen saying that of course he wants a wedding and love, and all the nice things.
• The mom saying that she was scared to say the wrong thing, and lose her kid forever.
• The dad saying that his kid has good taste.`,
                    quotes: [
                        "Are you waiting for a big speech to make you stay? Cuz I wont have one.",
                        "I know, I'm the dramatic one.",
                        "I don't want to hear sweeping notions of love. It's 2024, the world is burning!",
                        "We think it's wonderful that you're White.",
                    ]
                },
                {
                    id: 'm2',
                    title: "Tetris",
                    year: "Cinema",
                    rating: 4.5,
                    url: "https://letterboxd.com/delacruzp/film/tetris/",
                    image: "/img/2025-m2.png",
                    review: `This movie fucking slaps.

Who knew watching suits do capitalism could be that entertaining. 

Now let me go and play some tetris.`},
                {
                    id: 'm3',
                    title: "Sorry, Baby",
                    year: "Cinema",
                    rating: 4.5,
                    url: "https://letterboxd.com/delacruzp/film/sorry-baby-2025/",
                    image: "/img/2025-m3.png",
                    review: `I really enjoyed this.

Granted my expectations going into it where on the floor, but hey apparently that's the key to loving a movie.

Things I loved:
• The cinematography
• The shot of them seating by the beach, with the afro backlit, and glowing like a halo.
• The shot of the snow falling thorugh the window.
• The Jokes
• My dad is divorced.
• Are you safe, in your home? Yes. I have a cat.
• I'm gay, who would have guessed?
Honestly, too many to list. Which is why I loved this.
• The Plot
• The sandwich scene.
• The doctor asking questions without a tonal shift.
• The baby scene.
• The Acting

Dude. I just loved this movie. Bye.` },
                {
                    id: 'm4',
                    title: "Bugonia",
                    year: "Cinema",
                    rating: 4, url: "https://letterboxd.com/delacruzp/film/bugonia/",
                    image: "/img/2025-m4.png",
                    review: "Can you diversify, the words, of the diversity training?"
                },
                {
                    id: 'm5',
                    title: "Eddington",
                    year: "Cinema",
                    rating: 4,
                    url: "https://letterboxd.com/delacruzp/film/eddington/",
                    image: "/img/2025-m5.png",
                    review: "So much could have been avoided if people were just nicer to each other."
                }
            ],
            books: [
                {
                    id: 'b1',
                    title: "Giovanni’s Room",
                    year: "Literature",
                    rating: 5,
                    url: "https://www.goodreads.com/",
                    image: "/img/2025-b1.png",
                    quotes: [
                        "Soon, it was too late to do anything but moan.",
                        "Maybe everything bad that happens to you makes you weaker... so you can stand less and less.",
                        "You will go home and then you will find that home is not home anymore. Then you will really be in trouble. As long as you stay here, you can always think: One day I will go home.",
                        "It is cruel to have made me want to live only to make my death more bloody.",
                        "You want to leave Giovanni because he makes you stink. You want to despise Giovanni because he is not afraid of the stink of love. You want to kill him in the name of all your lying little moralities. And you—you are immoral. You are, by far, the most immoral man I have met in all my life. Look, look what you have done to me.",
                        "Be careful. Please be careful. He gave me an ironical smile. ‘Thank you’, he said, 'You should have given me that advice the night we met”",
                        "What's the good of an American who isn't happy? Happiness was all we had.",
                    ]
                },
                {
                    id: 'b2',
                    title: "A Little Daylight Left: Poems",
                    year: "2025",
                    rating: 4,
                    url: "https://www.goodreads.com/book/show/215805885-a-little-daylight-left",
                    image: "/img/2025-b2.webp",
                },
                {
                    id: 'b3',
                    title: "The Seven Moons of Maali Almeida",
                    year: "2022",
                    rating: 4,
                    url: "https://www.goodreads.com/book/show/57224204-the-seven-moons-of-maali-almeida",
                    image: "/img/2025-b3.png",
                    review: `A difficult read, worth the effort, like all best things.

I forgot how much I love a well thought-out story. A perfect ending is one of the few joys of life.

This booked pushed me, in more ways than one. I got to learned about the Sri Lanka civil war, the racial conflicts in the other side of the world, names that my tongue struggles to pronounced and stories that although noveled, brought up familiar emotions.

At the end of the day, the world keeps spinning, our efforts have a limited impact, our actions hurt our loved ones, but life is definitely not nothing.
`,
                    // quotes: [
                    //     "- Despair always begins as a snack that you nibble on when bored and then becomes a meal that you have thrice a day.",
                    //     "- That is the kindest thing you can say about life, It's not nothing.",
                    //     "- Let's go to San Francisco and make money and love and let this shit country burn to the ground.",
                    //     "- He was handsome and stout just the way you liked them, though you liked them many ways.",
                    //     "- The one good thing you can say about a bomb is that it isn't racist or sexist or concerned about class.",
                    //     "- Because a blow job isn't sex and it isn't sex if you don't see the other person's face and it doesn't count if you were thinking about him during it",
                    //     "- Two promises are worth less than one.",
                    //     "- Three promises are worth less than two.",
                    //     "- We must all find pointless causes to live for, or why bother with breath?",
                    //     "- How much money do you make? – I make what all the world's millionaires do not... What is that? – Enough.",
                    //     "- We have fucked it up. All by ourselves.",
                    //     "- She stares out the window and let water spills from her eyes. First a drop, then an eye full, then a fountain.",
                    // ]
                },
                {
                    id: 'b4',
                    title: "Everything Is Tuberculosis: The History and Persistence of Our Deadliest Infection",
                    year: "2025",
                    rating: 4,
                    url: "https://www.goodreads.com/book/show/220341389-everything-is-tuberculosis",
                    image: "/img/2025-b4.jpg",
                }
            ],
            essays: [
                {
                    id: 'e1',
                    title: "The Goon Squad",
                    year: "Nov, 2025",
                    author: "Daniel Kolitz",
                    // rating: 4, 
                    url: "https://harpers.org/archive/2025/11/the-goon-squad-daniel-kolitz-porn-masturbation-loneliness/",
                    image: "/img/2025-e1.webp",
                    site: "Harpers",
                    review: "Loneliness, porn’s next frontier, and the dream of endless masturbation."
                },
                {
                    id: 'e2',
                    title: "We’ve Reached Peak Gay Sluttiness",
                    year: "Aug 29, 2025",
                    author: "Steven Phillips-Horst",
                    url: "https://www.thecut.com/article/ghb-doxypep-sniffies-peak-gay-sluttiness-era-nyc.html",
                    image: "/img/2025-e2.webp",
                    site: "The Cut",
                    review: "Party all weekend, hook up with anyone, never get an STD — or even a hangover. Who says nobody’s having sex anymore?"
                },
                {
                    id: 'e3',
                    title: "She Wanted to Save the World From A.I. Then the Killings Started.",
                    year: "Jul 6, 2025",
                    author: "Christopher Beam",
                    url: "https://www.nytimes.com/2025/07/06/business/ziz-lasota-zizians-rationalists.html?smid=nytcore-android-share",
                    image: "/img/2025-e3.webp",
                    site: "NY Times",
                    review: "At first, Ziz LaSota seemed much like any other philosophically inclined young tech aspirant. Now, she and her followers are in jail, six people are dead, and Rationalists are examining whether their ideas played a role."
                },
                {
                    id: 'e4',
                    title: "We Bought a 450-Pound Mystery Pallet Packed With Returned Goods From Amazon and Beyond. Here’s What We Found Inside.",
                    year: "Nov 17, 2025",
                    author: "Annemarie Conte",
                    url: "https://www.nytimes.com/wirecutter/reviews/mystery-amazon-pallet-unboxing/",
                    image: "/img/2025-e4.webp",
                    site: "Wirecutter",
                }
            ],
        };

        const Z_DISTANCE = 300;
        const FOG_DEPTH = 4000;
        let allItems = [];

        // Initialize state
        function init() {
            // Flatten items
            ['movies', 'books', 'essays'].forEach(type => {
                INITIAL_DATA[type].forEach(item => {
                    allItems.push({ ...item, type });
                });
            });

            // Set spacer height
            const totalHeight = (allItems.length + 3) * Z_DISTANCE;
            document.getElementById('scroll-spacer').style.height = `${totalHeight}px`;

            // Create item elements
            const container = document.getElementById('items-container');
            allItems.forEach((item, index) => {
                const el = createItemElement(item, index);
                container.appendChild(el);
            });

            // Set final heading position
            const outro = document.getElementById('outro-heading');
            outro.style.transform = `translate3d(-50%, -50%, ${-(allItems.length + 1) * Z_DISTANCE}px)`;
            outro.style.display = 'block';

            lucide.createIcons();
            window.addEventListener('scroll', handleScroll);
            handleScroll();
        }

        function createItemElement(item, index) {
            const el = document.createElement('div');
            el.className = 'tunnel-item absolute top-1/2 left-1/2 w-64 -ml-32 -mt-40 cursor-pointer transition-transform duration-300';
            el.id = `item-${index}`;
            
            const itemZ = -(index + 1) * Z_DISTANCE;
            const seed = index * 234.56;
            const angle = seed % (2 * Math.PI);
            const radius = 250 + (seed % 350);
            const x = Math.cos(angle) * radius;
            const y = Math.sin(angle) * radius * 0.7;

            el.dataset.x = x;
            el.dataset.y = y;
            el.dataset.z = itemZ;

            el.innerHTML = `
                <div class="bg-white rounded-xl shadow-2xl overflow-hidden border-4 border-white transform hover:rotate-1 transition-transform duration-300">
                    <div class="h-40 bg-slate-200">
                        <img src="${item.image}" alt="${item.title}" class="w-full h-full object-cover">
                    </div>
                    <div class="p-4 bg-white">
                        <h3 class="font-bold text-slate-800 text-lg leading-tight truncate">${item.title}</h3>
                        <p class="text-xs text-slate-400 mt-1 uppercase tracking-wider">${item.type}</p>
                    </div>
                </div>
            `;

            el.addEventListener('click', () => openModal(item));
            return el;
        }

        function handleScroll() {
            const scrollY = window.scrollY;
            const scene = document.getElementById('tunnel-scene');
            const totalHeight = parseInt(document.getElementById('scroll-spacer').style.height);
            
            // Move scene
            scene.style.transform = `translateZ(${scrollY}px)`;

            // Update background parallax
            document.getElementById('grid-bg').style.transform = `translateZ(0) translateY(${-scrollY * 0.2}px)`;

            // Update Progress
            const progress = (scrollY / totalHeight) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('z-plane-display').innerText = `Z_PLANE: ${Math.round(scrollY)}`;

            // Update Intro Opacity based on distance
            const intro = document.getElementById('intro-heading');
            const introOpacity = 1 - (scrollY / 500);
            intro.style.opacity = Math.max(0, introOpacity);
            intro.style.pointerEvents = introOpacity <= 0 ? 'none' : 'auto';

            // Update each item visibility and blur
            allItems.forEach((_, index) => {
                const el = document.getElementById(`item-${index}`);
                const z = parseFloat(el.dataset.z);
                const x = parseFloat(el.dataset.x);
                const y = parseFloat(el.dataset.y);
                const relativeZ = z + scrollY;

                let opacity = 0;
                if (relativeZ > 200) opacity = 0;
                else if (relativeZ > 0) opacity = 1 - (relativeZ / 200);
                else if (relativeZ < -FOG_DEPTH) opacity = 0;
                else opacity = 1 - (Math.abs(relativeZ) / FOG_DEPTH);

                el.style.opacity = opacity;
                el.style.display = opacity <= 0.01 ? 'none' : 'block';
                el.style.filter = `blur(${Math.min(5, Math.abs(relativeZ) / 800)}px)`;
                el.style.transform = `translate3d(${x}px, ${y}px, ${z}px)`;
            });
        }

        function openModal(item) {
            const container = document.getElementById('modal-container');
            const content = document.getElementById('modal-content');
            const typeIcon = item.type === 'movies' ? 'film' : item.type === 'books' ? 'book-open' : 'pen-tool';

            content.innerHTML = `
                <button onclick="closeModal()" class="absolute top-4 right-4 z-10 p-2 bg-black/20 hover:bg-black/40 text-white rounded-full backdrop-blur-sm transition-colors">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
                <div class="h-48 shrink-0 relative">
                    <img src="${item.image}" class="w-full h-full object-cover">
                    <div class="absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-white to-transparent"></div>
                </div>
                <div class="p-6 pt-0 overflow-y-auto">
                    <div class="flex items-center gap-2 mb-2 text-green-600">
                        <i data-lucide="${typeIcon}" class="w-4 h-4"></i>
                        <span class="text-xs font-bold uppercase tracking-wider">${item.type}</span>
                    </div>
                    <h2 class="text-3xl font-black text-slate-800 mb-2 leading-tight">${item.title}</h2>
                    <div class="flex items-center gap-3 text-sm text-slate-500 mb-6">
                        <span>${item.year}</span>
                        ${item.rating ? `
                            <div class="flex items-center gap-1 bg-green-50 px-2 py-0.5 rounded text-green-700 font-bold">
                                <span>${item.rating}</span> <i data-lucide="star" class="w-3 h-3 fill-current"></i>
                            </div>
                        ` : ''}
                        <a href="${item.url}" target="_blank" class="ml-auto flex items-center gap-1 text-slate-400 hover:text-green-600 transition-colors">
                            Visit <i data-lucide="external-link" class="w-3 h-3"></i>
                        </a>
                    </div>
                    ${item.review ? `<div class="prose prose-sm prose-slate mb-6">${item.review}</div>` : ''}
                    ${item.quotes ? `
                        <div class="space-y-4">
                            ${item.quotes.map(q => `<div class="pl-4 border-l-2 border-green-300 italic text-slate-600 text-sm">"${q}"</div>`).join('')}
                        </div>
                    ` : ''}
                </div>
            `;

            container.classList.remove('hidden');
            lucide.createIcons();
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('modal-container').classList.add('hidden');
            document.body.style.overflow = '';
        }

        window.onload = init;
    </script>
</body>
</html>